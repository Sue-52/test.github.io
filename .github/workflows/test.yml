# å°†å‡ºç°åœ¨ GitHub ä»“åº“çš„ Actionsï¼ˆæ“ä½œï¼‰é€‰é¡¹å¡ä¸­çš„å·¥ä½œæµç¨‹åç§°ã€‚
name: æµ‹è¯•
# æŒ‡å®šè‡ªåŠ¨è§¦å‘å·¥ä½œæµç¨‹æ–‡ä»¶çš„äº‹ä»¶ã€‚
on:
  push:
    branches:
      - main
# å°† GitHub Sue-52's Blog å·¥ä½œæµç¨‹æ–‡ä»¶ä¸­è¿è¡Œçš„æ‰€æœ‰ä½œä¸šç»„åˆåœ¨ä¸€èµ·ã€‚
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2.3.1
        with:
          persist-credentials: false

        # å®‰è£…å’Œå»ºç«‹
      - name: Install and Build ğŸ”§
        run: |
          npm install
          npm run build
          cp dist/index.html dist/404.html
        env:
          CI: true

      # å¼€å‘
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@releases/v3
        with:
          ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          BRANCH: gh-pages
          FOLDER: dist
